<!DOCTYPE html>
<html lang="en">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">    
        <title>Magisterka Web GUI</title>
    </head>
    <body class="mw-100">
        <header class="fs-2 text-center text-white pt-3 pb-3 bg-dark shadow">Web GUI demo</header>
        <div class="container min-vh-100">
            <div class="mt-5 row justify-content-center text-center">
                <label class="fs-3 pb-4">Currently using <i>{{modelname}}</i></label>
                <div class="border rounded shadow-sm pt-4 pb-4 mb-2">
                    {% if image %}
                        <div class="mb-4">
                            <label class="fs-4 text-center pt-2 pb-2" id="label">Detections</label><br/>
                            <img src="{{image}}" class="img-fluid" id="preview">
                        </div>
					{% else %}
					<div class="mb-4">
						<img class="img-fluid" id="preview">
					</div>
                    {% endif %}
                    <form method="POST" enctype="multipart/form-data">
                        <label for="image0" class="form-label fs-4">Upload image for detection</label>
                        <input name="image" class="form-control w-75 mb-4 position-relative start-50 translate-middle-x" id="image0" type="file" accept="image/png,image/jpg,image/jpeg,image/bmp" onchange="loadFile(event)">
                        <input type="submit" class="btn btn-primary" value="Detect!">
                    </form>
                    {% if error %}
                    <label class="text-danger text-center fs-3">An error occured {{error}}</label>
                    {% endif %}
                </div>
            </div>
        </div>
	<div class="container">   
    <footer class="d-flex flex-wrap justify-content-between align-items-center py-2 my-3 border-top">
        <div class="col-md-4 mb-0 align-items-center text-muted">&copy; Jakub Jach 2024 <a class="bi bi-github text-muted" href="https://github.com/Kubalak" target="blank"></a></div>
        <div class="nav col-md-4 justify-content-end d-flex text-muted">Created with <a class="ms-1" href="https://getbootstrap.com/" target="blank"><h5 class="bi bi-bootstrap-fill bootstrap-logo"></h5></a>
    </footer>
    </div>
    </body>
	<script>
	var loadFile = function(event) {
    var output = document.getElementById('preview');
    output.src = URL.createObjectURL(event.target.files[0]);
	var element = document.getElementById("label");
	if(element)
		element.remove();
    output.onload = function() {
      URL.revokeObjectURL(output.src) // free memory
    }
  };
</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</html>